{"remainingRequest":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\src\\views\\forum\\view.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\src\\views\\forum\\view.vue","mtime":1676544808000},{"path":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\yl150\\Desktop\\graduationProject\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJaW1wb3J0IG1peGluIGZyb20gIkAvbWl4aW5zL3BhZ2UuanMiOw0KDQoJZXhwb3J0IGRlZmF1bHQgew0KCQltaXhpbnM6IFttaXhpbl0sDQoJCWRhdGEoKSB7DQoJCQlyZXR1cm4gew0KCQkJCWZpZWxkOiAiZm9ydW1faWQiLA0KCQkJCXVybF9hZGQ6ICJ+L2FwaS9mb3J1bS9hZGQ/IiwNCgkJCQl1cmxfc2V0OiAifi9hcGkvZm9ydW0vc2V0PyIsDQoJCQkJdXJsX2dldF9vYmo6ICJ+L2FwaS9mb3J1bS9nZXRfb2JqPyIsDQoJCQkJdXJsX3VwbG9hZDogIn4vYXBpL2ZvcnVtL3VwbG9hZD8iLA0KDQoJCQkJcXVlcnk6IHsNCgkJCQkJZm9ydW1faWQ6IDANCgkJCQl9LA0KDQoJCQkJbGlzdF9mb3J1bV90eXBlOiBbXSwNCg0KCQkJCWZvcm06IHsNCgkJCQkJZm9ydW1faWQ6IDAsDQoJCQkJCXVzZXJfaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwNCgkJCQkJZGlzcGxheTogMCwNCgkJCQkJbmlja25hbWU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIubmlja25hbWUsDQoJCQkJCWhpdHM6IDAsDQoJCQkJCXRpdGxlOiAiIiwNCgkJCQkJa2V5d29yZHM6ICIiLA0KCQkJCQlkZXNjcmlwdGlvbjogIiIsDQoJCQkJCXVybDogIiIsDQoJCQkJCXRhZzogIiIsDQoJCQkJCWltZzogIiIsDQoJCQkJCWNvbnRlbnQ6ICIiLA0KCQkJCQlhdmF0YXI6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYXZhdGFyDQoJCQkJfSwNCg0KCQkJfQ0KCQl9LA0KCQltZXRob2RzOiB7DQoNCgkJCS8qKg0KCQkJICog5L+u5pS55paH5Lu2DQoJCQkgKiBAcGFyYW0geyBPYmplY3QgfSBmaWxlcyDkuIrkvKDmlofku7blr7nosaENCgkJCSAqIEBwYXJhbSB7IFN0cmluZyB9IHN0ciDooajljZXnmoTlsZ7mgKflkI0NCgkJCSAqLw0KCQkJY2hhbmdlX2ZpbGUoZmlsZXMsIHN0cikgew0KCQkJCXZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7DQoJCQkJZm9ybS5hcHBlbmQoImZpbGUiLCBmaWxlc1swXSk7DQoJCQkJdGhpcy4kcG9zdCgifi9hcGkvZm9ydW0vdXBsb2FkPyIsIGZvcm0sIChyZXMpID0+IHsNCgkJCQkJaWYgKHJlcy5yZXN1bHQpIHsNCgkJCQkJCXRoaXMuZm9ybVtzdHJdID0gcmVzLnJlc3VsdC51cmw7DQoJCQkJCQljb25zb2xlLmxvZyh0aGlzLmZvcm0uaW1nKQ0KCQkJCQl9IGVsc2UgaWYgKHJlcy5lcnJvcikgew0KCQkJCQkJdGhpcy4kdG9hc3QocmVzLmVycm9yLm1lc3NhZ2UpOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9LA0KDQoJCQlzdWJtaXRfY2hlY2socGFyYW1zKSB7DQoJCQkJdmFyIG1zZyA9ICIiOw0KCQkJCWlmIChwYXJhbXMudGl0bGUgPT09ICIiKSB7DQoJCQkJCW1zZyA9ICLmoIfpopjkuI3og73kuLrnqboiOw0KCQkJCQlyZXR1cm4gbXNnOw0KCQkJCX0NCgkJCX0sDQoNCgkJCWFzeW5jIGdldF9mb3J1bV90eXBlKCkgew0KCQkJCXZhciBqc29uID0gYXdhaXQgdGhpcy4kZ2V0KCJ+L2FwaS9mb3J1bV90eXBlL2dldF9saXN0PyIpOw0KCQkJCWlmKGpzb24ucmVzdWx0KXsNCgkJCQkJdGhpcy5saXN0X2ZvcnVtX3R5cGUgPSBqc29uLnJlc3VsdC5saXN0Ow0KCQkJCX0NCgkJCQllbHNlIGlmKGpzb24uZXJyb3Ipew0KCQkJCQljb25zb2xlLmVycm9yKGpzb24uZXJyb3IpOw0KCQkJCX0NCgkJCX0sDQoJCX0sDQoJCWNyZWF0ZWQoKXsNCgkJCXRoaXMuZ2V0X2ZvcnVtX3R5cGUoKTsNCgkJfQ0KCX0NCg=="},{"version":3,"sources":["view.vue"],"names":[],"mappings":";AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"view.vue","sourceRoot":"src/views/forum","sourcesContent":["<template>\r\n\t<div class=\"diy_edit\" id=\"forum_edit\">\r\n\t\t<div class='warp'>\r\n\t\t\t<div class='container'>\r\n\t\t\t\t<div class='row form'>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_img\" style=\"margin-top: 50px\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span>封面图:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 图片 -->\r\n\t\t\t\t\t\t<input type=\"file\" style=\"display: none;\" id=\"img\" title=\"avatar\" @change=\"change_file($event.target.files,'img')\"/>\r\n\t\t\t\t\t\t<!-- 修改权限 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_img\" v-if=\"form.img\">\r\n\t\t\t\t\t\t\t<label for=\"img\">\r\n\t\t\t\t\t\t\t\t<img style=\"width: 100px;height: 100px\" :src=\"$fullUrl(form.img)\" />\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 添加权限 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_img\" v-else>\r\n\t\t\t\t\t\t\t<label for=\"img\">\r\n\t\t\t\t\t\t\t\t<div class=\"btn_add_img\">\r\n\t\t\t\t\t\t\t\t\t<span>+</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\" style=\"margin-top: 20px\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span>标题:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 文本 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"title\" v-model=\"form.title\" placeholder=\"请输入标题\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span>分类:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 文本 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\r\n\t\t\t\t\t\t\t<select id=\"type\" v-model=\"form.type\">\r\n\t\t\t\t\t\t\t\t<option v-for=\"o in list_forum_type\" :value=\"o.name\">\r\n\t\t\t\t\t\t\t\t\t{{o.name}}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_item\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span>标签:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 文本 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_text diy_input\">\r\n\t\t\t\t\t\t\t<input type=\"text\" id=\"tag\" v-model=\"form.tag\" placeholder=\"请输入标签，多个标签输入|分隔\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12 form_editor\">\r\n\t\t\t\t\t\t<div class=\"diy_title\">\r\n\t\t\t\t\t\t\t<span>正文:\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- 文本 -->\r\n\t\t\t\t\t\t<div class=\"diy_field diy_text\" style=\"margin-left: 40px\">\r\n\t\t\t\t\t\t\t<quill-editor v-model=\"form.content\" class=\"form_editor_block\">\r\n\t\t\t\t\t\t\t</quill-editor>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"col-12 col-md-12\" style=\"height: 100px\">\r\n\t\t\t\t\t\t<button class=\"submit_button\" @click=\"submit()\">发表内容</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport mixin from \"@/mixins/page.js\";\r\n\r\n\texport default {\r\n\t\tmixins: [mixin],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfield: \"forum_id\",\r\n\t\t\t\turl_add: \"~/api/forum/add?\",\r\n\t\t\t\turl_set: \"~/api/forum/set?\",\r\n\t\t\t\turl_get_obj: \"~/api/forum/get_obj?\",\r\n\t\t\t\turl_upload: \"~/api/forum/upload?\",\r\n\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tforum_id: 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\tlist_forum_type: [],\r\n\r\n\t\t\t\tform: {\r\n\t\t\t\t\tforum_id: 0,\r\n\t\t\t\t\tuser_id: this.$store.state.user.user_id,\r\n\t\t\t\t\tdisplay: 0,\r\n\t\t\t\t\tnickname: this.$store.state.user.nickname,\r\n\t\t\t\t\thits: 0,\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tkeywords: \"\",\r\n\t\t\t\t\tdescription: \"\",\r\n\t\t\t\t\turl: \"\",\r\n\t\t\t\t\ttag: \"\",\r\n\t\t\t\t\timg: \"\",\r\n\t\t\t\t\tcontent: \"\",\r\n\t\t\t\t\tavatar: this.$store.state.user.avatar\r\n\t\t\t\t},\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t/**\r\n\t\t\t * 修改文件\r\n\t\t\t * @param { Object } files 上传文件对象\r\n\t\t\t * @param { String } str 表单的属性名\r\n\t\t\t */\r\n\t\t\tchange_file(files, str) {\r\n\t\t\t\tvar form = new FormData();\r\n\t\t\t\tform.append(\"file\", files[0]);\r\n\t\t\t\tthis.$post(\"~/api/forum/upload?\", form, (res) => {\r\n\t\t\t\t\tif (res.result) {\r\n\t\t\t\t\t\tthis.form[str] = res.result.url;\r\n\t\t\t\t\t\tconsole.log(this.form.img)\r\n\t\t\t\t\t} else if (res.error) {\r\n\t\t\t\t\t\tthis.$toast(res.error.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tsubmit_check(params) {\r\n\t\t\t\tvar msg = \"\";\r\n\t\t\t\tif (params.title === \"\") {\r\n\t\t\t\t\tmsg = \"标题不能为空\";\r\n\t\t\t\t\treturn msg;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync get_forum_type() {\r\n\t\t\t\tvar json = await this.$get(\"~/api/forum_type/get_list?\");\r\n\t\t\t\tif(json.result){\r\n\t\t\t\t\tthis.list_forum_type = json.result.list;\r\n\t\t\t\t}\r\n\t\t\t\telse if(json.error){\r\n\t\t\t\t\tconsole.error(json.error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.get_forum_type();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.btn_add_img{\r\n\t\tcolor: #D3D3D3;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #999;\r\n\t\theight: 100px;\r\n\t\twidth: 100px;\r\n\t\tposition: relative;\r\n\t}\r\n\t.btn_add_img text{\r\n\t\tfont-size: 35px;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t}\r\n\t.btn_add_img span{\r\n\t\tdisplay: block;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 27px;\r\n\t}\r\n\t.form_img{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 90%;\r\n\t\theight: 100px;\r\n\t}\r\n\t.form_item{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 90%;\r\n\t\theight: 100px;\r\n\t}\r\n\t.diy_field{\r\n\t\tmargin-left: 20px;\r\n\t}\r\n\t.form{\r\n\t\twidth: 75%;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.diy_text input{\r\n\t\tline-height: 40px;\r\n\t\twidth: 300px;\r\n\t}\r\n\t.diy_text select{\r\n\t\tline-height: 40px;\r\n\t\twidth: 300px;\r\n\t\tbackground-color: white;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.diy_text select option{\r\n\t\tline-height: 40px;\r\n\t\twidth: 300px;\r\n\t\tbackground-color: white;\r\n\t}\r\n\t.diy_title{\r\n\t\twidth: 80px;\r\n\t}\r\n\t.form_editor{\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\twidth: 90%;\r\n\t\tmin-height: 150px;\r\n\t\tmargin-top: 30px;\r\n\t}\r\n\t.submit_button{\r\n\t\tmargin: 30px auto;\r\n\t\tdisplay: block;\r\n\t\tbackground-color: dodgerblue;\r\n\t\tcolor: white !important;\r\n\t\twidth: 100px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 30px;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\t.diy_input{\r\n\t\tmargin-left: 15px;\r\n\t}\r\n</style>\r\n"]}]}